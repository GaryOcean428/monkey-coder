(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{914:(e,t,r)=>{Promise.resolve().then(r.bind(r,9297))},9297:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(5155),a=r(2115),n=r(3312),i=r(1567);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});u.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";var f=r(3900),m=r(8986),x=r(4848);let h=(0,x.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function p(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(h({variant:r}),t),...a})}let g=(0,x.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),y=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(g({variant:a}),r),...n})});y.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...a})});v.displayName="AlertDescription";var j=r(2940);let b=j.bL,N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});N.displayName=j.B8.displayName;let w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});w.displayName=j.l9.displayName;let k=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});k.displayName=j.UC.displayName;var A=r(6972),C=r(3473),P=r(6744),S=r(2640),R=r(5686),I=r(3920),_=r(9293),T=r(2055);function D(){let{user:e,loading:t,isAuthenticated:r}=(0,_.A)(),[i,x]=(0,a.useState)([]),[h,g]=(0,a.useState)(!1),[j,D]=(0,a.useState)(""),[E,K]=(0,a.useState)(["read"]),[O,F]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r&&e&&x([{id:"1",name:"Development Key",key:"mk_dev_1234567890abcdef",prefix:"mk_dev_",createdAt:"2024-01-15T10:30:00Z",lastUsed:"2024-01-20T14:45:00Z",permissions:["read","write"]},{id:"2",name:"Production Key",key:"mk_prod_0987654321fedcba",prefix:"mk_prod_",createdAt:"2024-01-10T08:15:00Z",lastUsed:"2024-01-21T09:20:00Z",permissions:["read"]}])},[r,e]);let L=async()=>{if(!j.trim()){T.oR.error("Please enter a key name");return}g(!0),setTimeout(()=>{let e={id:Date.now().toString(),name:j,key:"mk_".concat(Math.random().toString(36).substring(2,15),"_").concat(Math.random().toString(36).substring(2,15)),prefix:"mk_",createdAt:new Date().toISOString(),permissions:E};x(t=>[...t,e]),D(""),K(["read"]),F(!1),g(!1),T.oR.success("API key created successfully!")},1e3)},U=e=>{x(t=>t.filter(t=>t.id!==e)),T.oR.success("API key deleted successfully!")},$=e=>{navigator.clipboard.writeText(e),T.oR.success("API key copied to clipboard!")},z=e=>{K(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r&&e?(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"API Keys"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your API keys for accessing Monkey Coder services"})]}),(0,s.jsxs)(n.$,{onClick:()=>F(!0),className:"gap-2",children:[(0,s.jsx)(C.A,{className:"h-4 w-4"}),"Create New Key"]})]}),O&&(0,s.jsxs)(l,{className:"mb-8",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:"Create New API Key"}),(0,s.jsx)(c,{children:"Generate a new API key for your applications"})]}),(0,s.jsxs)(u,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.J,{htmlFor:"keyName",children:"Key Name"}),(0,s.jsx)(f.p,{id:"keyName",placeholder:"e.g., Production App, Development Testing",value:j,onChange:e=>D(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.J,{children:"Permissions"}),(0,s.jsx)("div",{className:"flex gap-2",children:["read","write","delete"].map(e=>(0,s.jsx)(p,{variant:E.includes(e)?"default":"outline",className:"cursor-pointer",onClick:()=>z(e),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{onClick:L,disabled:h||!j.trim(),children:h?"Creating...":"Create Key"}),(0,s.jsx)(n.$,{variant:"outline",onClick:()=>F(!1),children:"Cancel"})]})]})]}),(0,s.jsxs)(b,{defaultValue:"keys",className:"w-full",children:[(0,s.jsxs)(N,{children:[(0,s.jsx)(w,{value:"keys",children:"Your Keys"}),(0,s.jsx)(w,{value:"docs",children:"Documentation"})]}),(0,s.jsx)(k,{value:"keys",className:"space-y-4",children:0===i.length?(0,s.jsx)(l,{children:(0,s.jsxs)(u,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(P.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No API keys yet"}),(0,s.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first API key to start using Monkey Coder services"}),(0,s.jsx)(n.$,{onClick:()=>F(!0),children:"Create Your First Key"})]})}):(0,s.jsx)("div",{className:"grid gap-4",children:i.map(e=>(0,s.jsxs)(l,{children:[(0,s.jsx)(o,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(d,{className:"flex items-center gap-2",children:[e.name,(0,s.jsxs)(p,{variant:"outline",children:[(0,s.jsx)(S.A,{className:"h-3 w-3 mr-1"}),e.permissions.join(", ")]})]}),(0,s.jsxs)(c,{children:["Created: ",new Date(e.createdAt).toLocaleDateString(),e.lastUsed&&(0,s.jsxs)("span",{className:"ml-4",children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]})]})]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>U(e.id),className:"text-destructive hover:text-destructive",children:(0,s.jsx)(R.A,{className:"h-4 w-4"})})]})}),(0,s.jsx)(u,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"bg-muted px-3 py-2 rounded text-sm font-mono",children:e.key}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>$(e.key),children:(0,s.jsx)(I.A,{className:"h-4 w-4"})})]})})]},e.id))})}),(0,s.jsx)(k,{value:"docs",className:"space-y-6",children:(0,s.jsxs)(l,{children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{children:"API Documentation"}),(0,s.jsx)(c,{children:"Learn how to use your API keys with Monkey Coder services"})]}),(0,s.jsxs)(u,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Authentication"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Include your API key in the Authorization header of your requests:"}),(0,s.jsx)("code",{className:"block bg-muted p-3 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Base URL"}),(0,s.jsx)("code",{className:"block bg-muted p-3 rounded text-sm",children:"https://api.monkey-coder.com/v1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Permissions"}),(0,s.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"read"}),": Access to code generation and model information"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"write"}),": Create and manage projects"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"delete"}),": Remove projects and data"]})]})]})]})]})})]})]}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)(y,{className:"max-w-md",children:[(0,s.jsx)(A.A,{className:"h-4 w-4"}),(0,s.jsx)(v,{children:"Please log in to access your API keys."})]})})}},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),n=r(2317),i=r(4848),l=r(1567);let o=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},3900:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(5155),a=r(2115),n=r(1567);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},8986:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(5155),a=r(2115),n=r(6195),i=r(4848),l=r(1567);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(o(),r),...a})});d.displayName=n.b.displayName},9293:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,A:()=>f});var s=r(5155),a=r(2115);async function n(e,t){let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error((await r.json()).detail||"Login failed");return await r.json()}async function i(e){let t=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).detail||"Signup failed");return await t.json()}async function l(){(await fetch("/api/auth/logout",{method:"POST",credentials:"include"})).ok||console.error("Logout failed")}async function o(){try{let e=await fetch("/api/auth/status",{credentials:"include"});if(!e.ok)return{authenticated:!1};return await e.json()}catch(e){return console.error("Failed to get user status:",e),{authenticated:!1}}}async function d(){try{let e=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok)return null;return await e.json()}catch(e){return console.error("Token refresh failed:",e),null}}r(6046);let c=(0,a.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,a.useState)(null),[f,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{!function(){try{localStorage.removeItem("authToken"),console.log("Cleared legacy localStorage tokens")}catch(e){console.error("Failed to clear legacy tokens:",e)}}();let e=await o();e.authenticated&&e.user&&u(e.user)}catch(e){console.error("Auth check failed:",e)}finally{m(!1)}})()},[]),(0,a.useEffect)(()=>{if(!r)return;let e=setInterval(async()=>{try{let e=await d();e&&e.user?u(e.user):(await l(),u(null))}catch(e){console.error("Token refresh failed:",e)}},9e5);return()=>clearInterval(e)},[r]);let x=async(e,t)=>{u((await n(e,t)).user)},h=async e=>{u((await i(e)).user)},p=async()=>{await l(),u(null)};return(0,s.jsx)(c.Provider,{value:{user:r,loading:f,login:x,signup:h,logout:p,isAuthenticated:!!r},children:t})}function f(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(670),a=r(5050);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[198,242,713,441,517,358],()=>t(914)),_N_E=e.O()}]);