(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{202:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(5155),a=r(2115),n=r(285),i=r(6695),l=r(2523),d=r(5057),o=r(6126),c=r(5365),u=r(7313),f=r(8533),m=r(4616),h=r(9803),x=r(5525),p=r(2525),y=r(4357),v=r(1783),g=r(2503);function j(){let{user:e,loading:t,isAuthenticated:r}=(0,v.A)(),[j,b]=(0,a.useState)([]),[N,k]=(0,a.useState)(!1),[w,A]=(0,a.useState)(""),[C,P]=(0,a.useState)(["read"]),[R,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{r&&e&&b([{id:"1",name:"Development Key",key:"mk_dev_1234567890abcdef",prefix:"mk_dev_",createdAt:"2024-01-15T10:30:00Z",lastUsed:"2024-01-20T14:45:00Z",permissions:["read","write"]},{id:"2",name:"Production Key",key:"mk_prod_0987654321fedcba",prefix:"mk_prod_",createdAt:"2024-01-10T08:15:00Z",lastUsed:"2024-01-21T09:20:00Z",permissions:["read"]}])},[r,e]);let S=async()=>{if(!w.trim()){g.oR.error("Please enter a key name");return}k(!0),setTimeout(()=>{let e={id:Date.now().toString(),name:w,key:"mk_".concat(Math.random().toString(36).substring(2,15),"_").concat(Math.random().toString(36).substring(2,15)),prefix:"mk_",createdAt:new Date().toISOString(),permissions:C};b(t=>[...t,e]),A(""),P(["read"]),T(!1),k(!1),g.oR.success("API key created successfully!")},1e3)},I=e=>{b(t=>t.filter(t=>t.id!==e)),g.oR.success("API key deleted successfully!")},_=e=>{navigator.clipboard.writeText(e),g.oR.success("API key copied to clipboard!")},D=e=>{P(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):r&&e?(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"API Keys"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your API keys for accessing Monkey Coder services"})]}),(0,s.jsxs)(n.$,{onClick:()=>T(!0),className:"gap-2",children:[(0,s.jsx)(m.A,{className:"h-4 w-4"}),"Create New Key"]})]}),R&&(0,s.jsxs)(i.Zp,{className:"mb-8",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Create New API Key"}),(0,s.jsx)(i.BT,{children:"Generate a new API key for your applications"})]}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"keyName",children:"Key Name"}),(0,s.jsx)(l.p,{id:"keyName",placeholder:"e.g., Production App, Development Testing",value:w,onChange:e=>A(e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{children:"Permissions"}),(0,s.jsx)("div",{className:"flex gap-2",children:["read","write","delete"].map(e=>(0,s.jsx)(o.E,{variant:C.includes(e)?"default":"outline",className:"cursor-pointer",onClick:()=>D(e),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{onClick:S,disabled:N||!w.trim(),children:N?"Creating...":"Create Key"}),(0,s.jsx)(n.$,{variant:"outline",onClick:()=>T(!1),children:"Cancel"})]})]})]}),(0,s.jsxs)(u.tU,{defaultValue:"keys",className:"w-full",children:[(0,s.jsxs)(u.j7,{children:[(0,s.jsx)(u.Xi,{value:"keys",children:"Your Keys"}),(0,s.jsx)(u.Xi,{value:"docs",children:"Documentation"})]}),(0,s.jsx)(u.av,{value:"keys",className:"space-y-4",children:0===j.length?(0,s.jsx)(i.Zp,{children:(0,s.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(h.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No API keys yet"}),(0,s.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first API key to start using Monkey Coder services"}),(0,s.jsx)(n.$,{onClick:()=>T(!0),children:"Create Your First Key"})]})}):(0,s.jsx)("div",{className:"grid gap-4",children:j.map(e=>(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[e.name,(0,s.jsxs)(o.E,{variant:"outline",children:[(0,s.jsx)(x.A,{className:"h-3 w-3 mr-1"}),e.permissions.join(", ")]})]}),(0,s.jsxs)(i.BT,{children:["Created: ",new Date(e.createdAt).toLocaleDateString(),e.lastUsed&&(0,s.jsxs)("span",{className:"ml-4",children:["Last used: ",new Date(e.lastUsed).toLocaleDateString()]})]})]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>I(e.id),className:"text-destructive hover:text-destructive",children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})]})}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("code",{className:"bg-muted px-3 py-2 rounded text-sm font-mono",children:e.key}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>_(e.key),children:(0,s.jsx)(y.A,{className:"h-4 w-4"})})]})})]},e.id))})}),(0,s.jsx)(u.av,{value:"docs",className:"space-y-6",children:(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"API Documentation"}),(0,s.jsx)(i.BT,{children:"Learn how to use your API keys with Monkey Coder services"})]}),(0,s.jsxs)(i.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Authentication"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Include your API key in the Authorization header of your requests:"}),(0,s.jsx)("code",{className:"block bg-muted p-3 rounded text-sm",children:"Authorization: Bearer YOUR_API_KEY"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Base URL"}),(0,s.jsx)("code",{className:"block bg-muted p-3 rounded text-sm",children:"https://api.monkey-coder.com/v1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Permissions"}),(0,s.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"read"}),": Access to code generation and model information"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"write"}),": Create and manage projects"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"delete"}),": Remove projects and data"]})]})]})]})]})})]})]}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)(c.Fc,{className:"max-w-md",children:[(0,s.jsx)(f.A,{className:"h-4 w-4"}),(0,s.jsx)(c.TN,{children:"Please log in to access your API keys."})]})})}},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var s=r(5155),a=r(2115),n=r(9708),i=r(3253),l=r(9434);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:a,size:i,className:r})),ref:t,...c})});o.displayName="Button"},914:(e,t,r)=>{Promise.resolve().then(r.bind(r,202))},968:(e,t,r)=>{"use strict";r.d(t,{b:()=>l});var s=r(2115),a=r(3655),n=r(5155),i=s.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},1783:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>u,A:()=>f});var s=r(5155),a=r(2115);async function n(e,t){let r=await fetch("/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})});if(!r.ok)throw Error((await r.json()).detail||"Login failed");return await r.json()}async function i(e){let t=await fetch("/api/v1/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).detail||"Signup failed");return await t.json()}async function l(){(await fetch("/api/v1/auth/logout",{method:"POST",credentials:"include"})).ok||console.error("Logout failed")}async function d(){try{let e=await fetch("/api/v1/auth/status",{credentials:"include"});if(!e.ok)return{authenticated:!1};return await e.json()}catch(e){return console.error("Failed to get user status:",e),{authenticated:!1}}}async function o(){try{let e=await fetch("/api/v1/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok)return null;return await e.json()}catch(e){return console.error("Token refresh failed:",e),null}}r(5695);let c=(0,a.createContext)(void 0);function u(e){let{children:t}=e,[r,u]=(0,a.useState)(null),[f,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{!function(){try{localStorage.removeItem("authToken"),console.log("Cleared legacy localStorage tokens")}catch(e){console.error("Failed to clear legacy tokens:",e)}}();let e=await d();e.authenticated&&e.user&&u(e.user)}catch(e){console.error("Auth check failed:",e)}finally{m(!1)}})()},[]),(0,a.useEffect)(()=>{if(!r)return;let e=setInterval(async()=>{try{let e=await o();e&&e.user?u(e.user):(await l(),u(null))}catch(e){console.error("Token refresh failed:",e)}},9e5);return()=>clearInterval(e)},[r]);let h=async(e,t)=>{u((await n(e,t)).user)},x=async e=>{u((await i(e)).user)},p=async()=>{await l(),u(null)};return(0,s.jsx)(c.Provider,{value:{user:r,loading:f,login:h,signup:x,logout:p,isAuthenticated:!!r},children:t})}function f(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},2525:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4616:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5057:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var s=r(5155),a=r(2115),n=r(968),i=r(3253),l=r(9434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(d(),r),...a})});o.displayName=n.b.displayName},5365:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>d,TN:()=>o});var s=r(5155),a=r(2115),n=r(3253),i=r(9434);let l=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:a}),r),...n})});d.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...a})});o.displayName="AlertDescription"},5525:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6126:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(5155);r(2115);var a=r(3253),n=r(9434);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>u});var s=r(5155),a=r(2115),n=r(9434);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},7313:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>l});var s=r(5155),a=r(2115),n=r(5482),i=r(9434);let l=n.bL,d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});d.displayName=n.B8.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});o.displayName=n.l9.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});c.displayName=n.UC.displayName},8533:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(7805),a=r(8025);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},9803:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(2895).A)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[930,686,503,441,684,358],()=>t(914)),_N_E=e.O()}]);