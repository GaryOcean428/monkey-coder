#!/bin/bash
# Pre-commit hook for model compliance checking
# This ensures no deprecated or invalid models are committed

echo "üîç Checking model compliance..."

# Run the model compliance monitor on staged files
python scripts/model_compliance_monitor.py --git --verbose

if [ $? -ne 0 ]; then
    echo ""
    echo "‚ùå Model compliance check failed!"
    echo ""
    echo "To fix automatically, run:"
    echo "  python scripts/model_compliance_monitor.py --fix"
    echo ""
    echo "Or to bypass this check (not recommended):"
    echo "  git commit --no-verify"
    echo ""
    exit 1
fi

echo "‚úÖ Model compliance check passed!"
exit 0